% Create Apollo drag coefficient lookup table data for Simulink
% Based on Table B.1 from NAA 1965

% Mach numbers (first column in the table)
Mach_numbers_CD = [0.90; 1.10; 1.20; 1.35; 1.65; 2.00; 2.40; 3.00; 4.00; 6.00; 10.00];

% Angles of attack (first row in the table)
alpha_T_CD = [0, 5, 10, 15, 20, 25, 30, 35, 40];

% Drag coefficient data (CD_T)
CD_T = [...
    1.130, 1.124, 1.107, 1.080, 1.039, 0.981, 0.919, 0.856, 0.777;...
    1.305, 1.296, 1.284, 1.261, 1.225, 1.177, 1.109, 1.048, 0.981;...
    1.340, 1.335, 1.321, 1.298, 1.267, 1.220, 1.162, 1.092, 1.015;...
    1.394, 1.391, 1.385, 1.369, 1.340, 1.295, 1.235, 1.164, 1.075;...
    1.445, 1.432, 1.420, 1.385, 1.342, 1.297, 1.240, 1.150, 1.035;...
    1.472, 1.465, 1.447, 1.413, 1.369, 1.310, 1.218, 1.110, 0.983;...
    1.480, 1.479, 1.458, 1.416, 1.347, 1.264, 1.165, 1.065, 0.950;...
    1.468, 1.454, 1.422, 1.378, 1.304, 1.219, 1.128, 1.021, 0.911;...
    1.454, 1.440, 1.408, 1.349, 1.270, 1.184, 1.094, 0.973, 0.861;...
    1.486, 1.470, 1.420, 1.350, 1.270, 1.175, 1.064, 0.956, 0.843;...
    1.510, 1.492, 1.450, 1.390, 1.300, 1.195, 1.085, 0.965, 0.844];

% Save the data to a .mat file
save('ApolloDragCoeff.mat', 'Mach_numbers_CD', 'alpha_T_CD', 'CD_T');

% Display confirmation
disp('Apollo drag coefficient data saved to ApolloDragCoeff.mat');
disp('To use in Simulink:');
disp('1. Load the .mat file in your model workspace');
disp('2. Use a 2D Lookup Table block');
disp('3. Set the Row index to "Mach_numbers"');
disp('4. Set the Column index to "alpha_T"');
disp('5. Set the Table data to "CD_T"');